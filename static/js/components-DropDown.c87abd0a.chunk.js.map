{"version":3,"file":"static/js/components-DropDown.c87abd0a.chunk.js","mappings":"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","sources":["components/DropDown/index.tsx","helpers/index.tsx","webpack://react-google-form/./src/components/DropDown/DropDown.module.scss?3f20"],"sourcesContent":["import {\n  ReactNode,\n  useEffect,\n  useState,\n  createContext,\n  useContext,\n  ComponentProps,\n} from \"react\";\nimport { CSSTransition } from \"react-transition-group\";\nimport { createPortal } from \"react-dom\";\nimport { usePopper, Popper } from \"react-popper\";\nimport { clickOutside } from \"helpers\";\n\nimport styles from \"./DropDown.module.scss\";\n\ntype DropDownProps = {\n  selector: string;\n  children?: ReactNode;\n  isOpen?: boolean;\n  toggle?: () => void;\n  zIndex?: number;\n};\n\ntype DropDownContextType = {\n  close: () => void;\n};\n\nconst DropDownContext = createContext<DropDownContextType | null>(null);\n\nexport const DropDown = ({\n  selector,\n  children,\n  isOpen,\n  toggle = () => {},\n}: DropDownProps) => {\n  let [referenceElement, setReferenceElement] = useState<HTMLElement | null>(\n    null\n  );\n  let [popperElement, setPopperElement] = useState<HTMLElement | null>(null);\n\n  const {\n    attributes,\n    styles: style,\n    state,\n  } = usePopper(referenceElement, popperElement, {\n    placement: \"bottom-start\",\n    modifiers: [\n      {\n        name: \"offset\",\n        options: {\n          offset: [0, 10],\n        },\n      },\n    ],\n  });\n\n  const [show, setShow] = useState(false);\n\n  const open = () => {\n    setShow(true);\n  };\n\n  const close = () => {\n    setShow(false);\n  };\n\n  useEffect(() => {\n    if (selector.length === 0) return;\n\n    const element = document.querySelector(selector) as HTMLElement;\n\n    if (!element) return;\n\n    element.onclick = typeof isOpen === \"boolean\" ? toggle : open;\n\n    setReferenceElement(element);\n  }, []);\n\n  const onEntered = (element: HTMLElement) => {\n    if (!element) return;\n\n    clickOutside({\n      ref: element,\n      onClose: typeof isOpen === \"boolean\" ? toggle : close,\n      doNotClose: (event) => {\n        if (!referenceElement) return false;\n        return referenceElement.contains(event);\n      },\n    });\n  };\n\n  return createPortal(\n    <CSSTransition\n      in={typeof isOpen === \"boolean\" ? isOpen : show}\n      timeout={200}\n      unmountOnExit\n      classNames={{\n        enterActive: styles.enter,\n        exitActive: styles.exit,\n      }}\n      onEntered={onEntered}\n    >\n      <DropDownContext.Provider\n        value={{ close: typeof isOpen === \"boolean\" ? toggle : close }}\n      >\n        <div\n          ref={setPopperElement}\n          className={styles.container}\n          style={{ ...style.popper, width: state?.rects?.reference?.width }}\n          {...attributes.popper}\n        >\n          <div className={styles.menu}>{children}</div>\n        </div>\n      </DropDownContext.Provider>\n    </CSSTransition>,\n    document.body\n  );\n};\n\ntype DropDownItemProps = {\n  children?: ReactNode;\n  onClick?: () => void;\n  className?: string;\n} & ComponentProps<\"button\">;\n\nexport const Item = ({\n  children,\n  onClick,\n  className,\n  ...props\n}: DropDownItemProps) => {\n  const { close } = useContext(DropDownContext) as DropDownContextType;\n\n  const handleClick = () => {\n    close();\n    if (typeof onClick === \"function\") onClick();\n  };\n\n  return (\n    <button\n      className={`${styles.item} ${className ? className : \"\"}`.trim()}\n      onClick={handleClick}\n      {...props}\n    >\n      {children}\n    </button>\n  );\n};\n\nDropDown.Item = Item;\n","import { ReactNode } from \"react\";\n\ntype CookieSetter<T> = {\n  name: string;\n  value: T;\n  days: number;\n};\n\nexport const cookies = () => {\n  const set = <T,>({ name, value, days }: CookieSetter<T>): void => {\n    let expireDate = new Date();\n    expireDate.setTime(expireDate.getTime() + days * 24 * 60 * 60 * 1000);\n    let expires = \"; expires=\" + expireDate.toUTCString();\n    document.cookie = name + \"=\" + JSON.stringify(value) + expires + \"; path=/\";\n  };\n\n  const get = (name: string): string | null => {\n    let match = document.cookie.match(new RegExp(\"(^| )\" + name + \"=([^;]+)\"));\n\n    return match ? match[2] : null;\n  };\n\n  const remove = (name: string): void => {\n    document.cookie =\n      name + \"=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;\";\n  };\n\n  return {\n    set,\n    get,\n    remove,\n  };\n};\n\nexport const clickOutside = ({\n  ref,\n  onClose,\n  doNotClose = () => false,\n}: {\n  ref: HTMLElement;\n  onClose: () => void;\n  doNotClose: (element: HTMLElement) => boolean;\n}) => {\n  if (!ref) return;\n\n  const handleClickOutside = (event: MouseEvent) => {\n    let { target } = event;\n    if (\n      ref.contains(target as HTMLElement) ||\n      doNotClose(target as HTMLElement)\n    )\n      return;\n    onClose();\n    document.removeEventListener(\"click\", handleClickOutside);\n  };\n\n  document.addEventListener(\"click\", handleClickOutside);\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"enter\":\"DropDown_enter__uSEE3\",\"menu\":\"DropDown_menu__3cGdI\",\"exit\":\"DropDown_exit__8wUc0\",\"left\":\"DropDown_left__GqnVO\",\"right\":\"DropDown_right__58P-d\",\"top\":\"DropDown_top__9AW9N\",\"bottom\":\"DropDown_bottom__iuD9Z\",\"container\":\"DropDown_container__uTfyj\",\"item\":\"DropDown_item__TyAwV\"};"],"names":["DropDownContext","createContext","DropDown","selector","children","isOpen","toggle","useState","referenceElement","setReferenceElement","popperElement","setPopperElement","usePopper","placement","modifiers","name","options","offset","attributes","style","styles","state","show","setShow","open","close","useEffect","length","element","document","querySelector","onclick","createPortal","in","timeout","unmountOnExit","classNames","enterActive","exitActive","onEntered","clickOutside","ref","onClose","doNotClose","event","contains","Provider","value","className","popper","width","rects","reference","body","Item","onClick","props","useContext","trim","cookies","set","days","expireDate","Date","setTime","getTime","expires","toUTCString","cookie","JSON","stringify","get","match","RegExp","remove","addEventListener","handleClickOutside","target","removeEventListener"],"sourceRoot":""}